import{z as _,o as m,e as i,a as e,t as d,k as u,A as b,F as v,h,v as l,u as x,i as y,D as p}from"./app-BhqfRxGy.js";const k=["action"],w={class:"text-xl font-semibold mb-4"},P={key:0,class:"mb-4"},S=e("label",{for:"event_id",class:"block text-sm font-medium text-gray-700"},"Nama Event",-1),U=e("option",{value:"",disabled:"",selected:""},"Pilih Event",-1),D=["value"],F={key:1,class:"mb-4"},T=e("label",{for:"event_id",class:"block text-sm font-medium text-gray-700"},"Nama Event",-1),B={class:"mb-4"},E=e("label",{for:"file_pengumuman",class:"block text-sm font-medium text-gray-700"},"File Pengumuman",-1),V={id:"file_exist",class:"mt-1 text-sm text-gray-500"},M={class:"mb-4"},N=e("label",{for:"tgl_pengumuman",class:"block text-sm font-medium text-gray-700"},"Tanggal",-1),A={class:"mb-4"},O=e("label",{for:"keterangan",class:"block text-sm font-medium text-gray-700"},"Keterangan",-1),j={class:"flex"},z=e("a",{href:"/pengumuman",class:"py-2 px-4 mx-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},"Batal",-1),C={type:"submit",class:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},L={__name:"PengumumanForm",props:{formtype:String,pengumuman:Object},setup(g){const t=g;console.log(t.pengumuman);const n=_({event_id:"",file_pengumuman:null,tgl_pengumuman:"",keterangan:""}),r=t.formtype==="create"?"/pengumuman":`/editpengumuman/${t.pengumuman.pengumuman_id}`;function c(){const o=new FormData;o.append("event_id",n.event_id),o.append("keterangan",n.keterangan),o.append("tgl_pengumuman",n.tgl_pengumuman),t.formtype==="edit"&&n.file_pengumuman===null?(o.append("_method","PUT"),p.post(r,o)):(o.append("file_pengumuman",n.file_pengumuman),t.formtype==="edit"&&o.append("_method","PUT"),p.post(r,o))}t.formtype==="edit"&&t.pengumuman&&(n.nama_event=t.pengumuman.event.nama_event,n.tgl_pengumuman=t.pengumuman.tgl_pengumuman,n.keterangan=t.pengumuman.keterangan);function f(o){n.file_pengumuman=o.target.files[0]}return(o,s)=>(m(),i("form",{action:x(r),method:"POST",enctype:"multipart/form-data",class:"max-w-xl mx-auto p-4 bg-white shadow-md rounded-md",onSubmit:y(c,["prevent"])},[e("h1",w,d(t.formtype==="create"?"Tambah Pengumuman Baru":"Edit Pengumuman"),1),t.formtype==="create"?(m(),i("div",P,[S,u(e("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>n.event_id=a),id:"event_id",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[U,(m(!0),i(v,null,h(g.pengumuman,a=>(m(),i("option",{key:a.event_id,value:a.event_id},d(a.nama_event),9,D))),128))],512),[[b,n.event_id]])])):(m(),i("div",F,[T,u(e("input",{disabled:"",id:"event_id","onUpdate:modelValue":s[1]||(s[1]=a=>n.nama_event=a),class:"mt-1 block w-full bg-gray-200 border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[l,n.nama_event]])])),e("div",B,[E,e("input",{type:"file",id:"file_pengumuman",onChange:f,class:"mt-1 block w-full text-sm text-gray-900 border border-gray-300 rounded-md cursor-pointer bg-gray-50 focus:outline-none focus:border-indigo-500 focus:ring-indigo-500"},null,32),e("p",V,d(t.formtype==="edit"&&t.pengumuman&&t.pengumuman.file_pengumuman),1)]),e("div",M,[N,u(e("input",{type:"date",id:"tgl_pengumuman","onUpdate:modelValue":s[2]||(s[2]=a=>n.tgl_pengumuman=a),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[l,n.tgl_pengumuman]])]),e("div",A,[O,u(e("input",{id:"keterangan","onUpdate:modelValue":s[3]||(s[3]=a=>n.keterangan=a),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[l,n.keterangan]])]),e("div",j,[z,e("button",C,d(t.formtype==="create"?"Submit":"Simpan Perubahan"),1)])],40,k))}};export{L as default};
